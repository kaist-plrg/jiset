\begin{abstract}
  JavaScript is one of the mainstream programming languages for client-side
  programming, server-side programming, and even embedded systems.
  Various JavaScript engines developed and maintained in diverse fields
  must conform to the syntax and semantics described in ECMAScript, the
  standard specification of JavaScript.  Since an incorrect description in
  ECMAScript can lead to wrong JavaScript engine implementations, checking
  the correctness of ECMAScript is critical and essential.  However, all the specification
  updates are currently manually reviewed by the Ecma Technical Committee 39
  (TC39) without any automated tools.  Moreover, in late 2014, the committee
  announced the yearly release cadence and open development process of ECMAScript to
  quickly adapt to evolving development environments.  Because of such frequent
  updates, checking the correctness of ECMAScript becomes more labor-intensive
  and error-prone.

  To alleviate the problem, we propose $\tool$, a JavaScript Specification Type
  Analyzer using Refinement.  It is the first tool that performs \textit{type
  analysis} on JavaScript specifications and detects specification bugs using a
  \textit{bug detector}.  For a given specification, $\tool$ first compiles each
  abstract algorithm written in a structured natural language to a corresponding
  function in $\ires$, an untyped intermediate representation for ECMAScript.
  Then, it performs type analysis for compiled functions with specification
  types defined in ECMAScript.  Based on the result of type analysis, $\tool$
  detects specification bugs using a bug detector consisting of four checkers.
  To increase the precision of the type analysis, we present
  \textit{condition-based refinement} for type analysis, which prunes out
  infeasible abstract states using conditions of assertions and branches.  We
  evaluated $\tool$ with all 864 versions in the official ECMAScript repository
  for the recent three years from 2018 to 2021.  $\tool$ took \inred{137.3}
  seconds on average to perform type analysis for each version, and detected
  \inred{161} type-related specification bugs with \inred{56.5}\% precision;
  \inred{91} out of \inred{161} bugs are true bugs.  Among them, \inred{14}
  bugs are newly detected by $\tool$, and the committee confirmed them all.
\end{abstract}
